function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(o=>{var t={className:"",maxWidth:800,closeOutside:!(o.modalInstancesCount=0),content:"",keyboardClose:!0,beforeOpen:null,afterOpen:null,beforeClose:null,afterClose:null};o.Modal=function(){this.modalWinWrapper=null,this.modalWin=null,this.closeButton=null,arguments[0]&&"object"===_typeof(arguments[0])?this.options=((t,o)=>{for(var e in o)t.hasOwnProperty(e)&&(t[e]=o[e]);return t})(t,arguments[0]):this.options.defauls},Modal.prototype.open=function(){this.options.content&&("function"==typeof this.options.beforeOpen&&this.options.beforeOpen.call(this),function(){var t=this.options.content,o=(this.modalWinWrapper=document.createElement("div"),this.modalWinWrapper.className="modal-win",this.modalWin=document.createElement("div"),this.modalWin.className="modal-win__main "+this.options.className,this.closeButton=document.createElement("button"),this.closeButton.className="modal-win__close",this.closeButton.innerHTML="<svg class='icon modal-win__close-icon' viewbox='0 0 22.88 22.88'><path d='M.324 1.909a1.14 1.14 0 0 1 0-1.587 1.14 1.14 0 0 1 1.587 0l9.523 9.539L20.973.322a1.12 1.12 0 0 1 1.571 0 1.112 1.112 0 0 1 0 1.587l-9.523 9.524 9.523 9.539a1.112 1.112 0 0 1 0 1.587 1.12 1.12 0 0 1-1.571 0l-9.539-9.539-9.523 9.539a1.14 1.14 0 0 1-1.587 0c-.429-.444-.429-1.159 0-1.587l9.523-9.539L.324 1.909z'></path></svg>",this.modalWin.appendChild(this.closeButton),this.modalWinWrapper.appendChild(this.modalWin),document.body.appendChild(this.modalWinWrapper),document.createElement("div"));o.className="modal-win__body","object"===_typeof(t)?o.appendChild(t):o.innerHTML=t;this.modalWin.appendChild(o)}.call(this),function(){this._events={closeOnButton:function(t){this.close()}.bind(this),clickOutside:function(t){t.target.closest(".modal-win__main")||this.close()}.bind(this),escapeClose:function(t){"Escape"===t.code&&this.close()}.bind(this)},this.closeButton&&this.closeButton.addEventListener("click",this._events.closeOnButton);this.options.closeOutside&&this.modalWinWrapper.addEventListener("mousedown",this._events.clickOutside);this.options.keyboardClose&&this.modalWinWrapper.addEventListener("keydown",this._events.escapeClose)}.call(this),document.body.classList.add("is-modal-opened"),this.modalWin.classList.add("is-modal-win-opened"),o.modalInstancesCount++,"function"==typeof this.options.afterOpen)&&this.options.afterOpen.call(this)},Modal.prototype.close=function(){var t=this;"function"==typeof this.options.beforeClose&&this.options.beforeClose.call(this),this.modalWin.classList.remove("is-modal-win-opened"),this.modalWin.addEventListener("animationend",function(){o.modalInstancesCount<=1&&document.body.classList.remove("is-modal-opened"),function(){this.closeButton&&this.closeButton.removeEventListener("click",this._events.closeOnButton);this.options.closeOutside&&this.modalWinWrapper.removeEventListener("mousedown",this._events.clickOutside);this.options.keyboardClose&&this.modalWinWrapper.removeEventListener("keydown",this._events.escapeClose)}.call(t),function(){this.modalWinWrapper.remove()}.call(t),document.body.appendChild(t.options.content),o.modalInstancesCount--}),"function"==typeof this.options.afterClose&&this.options.afterClose.call(this)}})(window);